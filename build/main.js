webpackJsonp([2],{118:function(n,l,u){"use strict";u.d(l,"a",function(){return i});var e=u(386),t=u(387),a=(u.n(t),function(n){var l;if(n instanceof e.a){var u=n.json()||"",t=u.error||JSON.stringify(u);l=n.status+" - "+(n.statusText||"")+" "+t}else l=n.message?n.message:n.toString();return console.error(l),l}),i=function(){function n(){}return n.prototype.handlePromiseError=function(n){return Promise.reject(a(n))},n.prototype.handleObservableError=function(n){return t.Observable.throw(a(n))},n}()},123:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var e=u(0),t=(u(83),function(n){function l(l,u){var e=n.call(this)||this;return e.http=l,e.af=u,e}return Object(e.__extends)(l,n),l.prototype.create=function(n,l){return l.push(n).catch(this.handlePromiseError)},l.prototype.getMessages=function(n,l){return this.af.database.list("/messages/"+n+"-"+l,{query:{orderByChild:"timestamp",limitToLast:30}}).catch(this.handleObservableError)},l}(u(118).a))},167:function(n,l,u){"use strict";u.d(l,"a",function(){return i});u(0),u(57);var e=u(336),t=u(66),a=u.n(t),i=function(){function n(n,l,u,e,t,a){this.navCtrl=n,this.navParams=l,this.authService=u,this.userService=e,this.messageService=t,this.chatService=a}return n.prototype.ionViewCanEnter=function(){return this.authService.authenticated},n.prototype.ionViewDidLoad=function(){var n=this;this.recipient=this.navParams.get("recipientUser"),this.pageTitle=this.recipient.name,this.userService.currentUser.first().subscribe(function(l){n.sender=l,n.chat1=n.chatService.getDeepChat(n.sender.$key,n.recipient.$key),n.chat2=n.chatService.getDeepChat(n.recipient.$key,n.sender.$key),n.recipient.photo&&n.chat1.first().subscribe(function(l){n.chatService.updatePhoto(n.chat1,l.photo,n.recipient.photo).then(function(n){console.log("Atualizado: ",n)})});var u=function(){n.messages.subscribe(function(l){n.scrollToBottom()})};n.messages=n.messageService.getMessages(n.sender.$key,n.recipient.$key),n.messages.first().subscribe(function(l){0==l.length?(n.messages=n.messageService.getMessages(n.recipient.$key,n.sender.$key),u()):u()})})},n.prototype.sendMessage=function(n){var l=this;if(n){var u=a.a.database.ServerValue.TIMESTAMP;this.messageService.create(new e.a(this.sender.$key,n,u),this.messages).then(function(){l.chat1.update({lastMessage:n,timestamp:u}),l.chat2.update({lastMessage:n,timestamp:u})})}},n.prototype.scrollToBottom=function(n){var l=this;setTimeout(function(){l.content&&l.content.scrollToBottom(n||300)},50)},n}()},191:function(n,l,u){"use strict";u(0),u(1),u(57),u(38),u(31);var e=u(167),t=(u(68),function(){return function(n,l,u,e){this.lastMessage=n,this.timeStamp=l,this.title=u,this.photo=e}}()),a=u(66),i=u.n(a);u.d(l,"a",function(){return r});var r=function(){function n(n,l,u,e,t){this.navCtrl=n,this.userService=l,this.authService=u,this.chatService=e,this.menuCtrl=t,this.view="chats"}return n.prototype.ionViewCanEnter=function(){return this.authService.authenticated},n.prototype.onSignup=function(){this.navCtrl.push("SignupPage")},n.prototype.ionViewDidLoad=function(){this.chats=this.chatService.chats,this.users=this.userService.users,this.menuCtrl.enable(!0,"user-menu")},n.prototype.filterItems=function(n){var l=n.target.value;if(this.chats=this.chatService.chats,this.users=this.userService.users,l)switch(this.view){case"chats":this.chats=this.chats.map(function(n){return n.filter(function(n){return n.title.toLowerCase().indexOf(l.toLowerCase())>-1})});break;case"users":this.users=this.users.map(function(n){return n.filter(function(n){return n.name.toLowerCase().indexOf(l.toLowerCase())>-1})})}},n.prototype.onChatCreate=function(n){var l=this;this.userService.currentUser.first().subscribe(function(u){l.chatService.getDeepChat(u.$key,n.$key).first().subscribe(function(e){if(e.hasOwnProperty("$value")){var a=i.a.database.ServerValue.TIMESTAMP,r=new t("",a,n.name,n.photo||"");l.chatService.create(r,u.$key,n.$key);var o=new t("",a,u.name,u.photo||"");l.chatService.create(o,n.$key,u.$key)}})}),this.navCtrl.push(e.a,{recipientUser:n})},n.prototype.onChatOpen=function(n){var l=this;this.userService.get(n.$key).first().subscribe(function(n){l.navCtrl.push(e.a,{recipientUser:n})})},n}()},204:function(n,l){function u(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}u.keys=function(){return[]},u.resolve=u,n.exports=u,u.id=204},235:function(n,l,u){function e(n){var l=t[n];return l?u.e(l[1]).then(function(){return u(l[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}var t={"../pages/signin/signin.module.ngfactory":[662,1],"../pages/signup/signup.module.ngfactory":[663,0]};e.keys=function(){return Object.keys(t)},e.id=235,n.exports=e},31:function(n,l,u){"use strict";u.d(l,"a",function(){return t});var e=u(0),t=(u(83),function(n){function l(l,u){var e=n.call(this)||this;return e.http=l,e.auth=u,console.log("Hello AuthProvider Provider"),e}return Object(e.__extends)(l,n),l.prototype.createAuthUser=function(n){return this.auth.createUser(n).catch(this.handlePromiseError)},l.prototype.signWithEmail=function(n){return this.auth.login(n).then(function(n){return null!=n}).catch(this.handlePromiseError)},l.prototype.logout=function(){return this.auth.logout()},Object.defineProperty(l.prototype,"authenticated",{get:function(){var n=this;return new Promise(function(l,u){n.auth.first().subscribe(function(n){n?l(!0):u(!1)})})},enumerable:!0,configurable:!0}),l}(u(118).a))},336:function(n,l,u){"use strict";u.d(l,"a",function(){return e});var e=function(){return function(n,l,u){this.userId=n,this.text=l,this.timestamp=u}}()},372:function(n,l,u){"use strict";function e(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(2,0,null,null,6,"ion-avatar",[],null,null,null,null,null)),Z.Y(3,278528,null,0,mn.i,[Z.p,Z.q,Z.j,Z.A],{ngClass:[0,"ngClass"]},null),Z._14(4,{"custom-background":0}),Z.Y(5,16384,null,0,bn.a,[],null,null),(n()(),Z._20(-1,null,["\n    "])),(n()(),Z.Z(7,0,null,null,0,"img",[["class","round"]],[[8,"src",4]],null,null,null,null)),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(10,0,null,null,1,"h2",[["text-center",""]],null,null,null,null,null)),(n()(),Z._20(11,null,["",""])),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(13,0,null,null,1,"p",[["text-center",""]],null,null,null,null,null)),(n()(),Z._20(14,null,[" @"," "])),(n()(),Z._20(-1,null,["\n"]))],function(n,l){n(l,3,0,n(l,4,0,l.component.isMenu))},function(n,l){var u=l.component;n(l,7,0,u.user.photo||"assets/imgs/no-photo.jpg");n(l,11,0,u.user.name);n(l,14,0,u.user.username)})}function t(n){return Z._22(0,[(n()(),Z.U(16777216,null,null,1,null,e)),Z.Y(1,16384,null,0,mn.k,[Z.I,Z.F],{ngIf:[0,"ngIf"]},null),(n()(),Z._20(-1,null,["\n"]))],function(n,l){n(l,1,0,l.component.user)},null)}function a(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,33,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,dn.b,dn.a)),Z.Y(1,4374528,null,0,fn.a,[rn.a,on.a,_n.a,Z.j,Z.z,hn.a,sn.a,Z.u,[2,pn.a],[2,gn.a]],null,null),(n()(),Z._20(-1,1,["\n\n  "])),(n()(),Z.Z(3,0,null,1,1,"user-info",[["isMenu","true"]],null,null,null,t,vn)),Z.Y(4,49152,null,0,q,[],{user:[0,"user"],isMenu:[1,"isMenu"]},null),(n()(),Z._20(-1,1,["\n\n  "])),(n()(),Z.Z(6,0,null,1,26,"ion-list",[["no-lines",""]],null,null,null,null,null)),Z.Y(7,16384,null,0,yn.a,[rn.a,Z.j,Z.z,on.a,cn.l,_n.a],null,null),(n()(),Z._20(-1,null,["\n    "])),(n()(),Z.Z(9,0,null,null,10,"button",[["class","item item-block"],["detail-none",""],["icon-right",""],["ion-item",""],["menuClose","user-menu"]],null,[[null,"click"]],function(n,l,u){var e=!0,t=n.component;if("click"===l){e=!1!==Z._11(n,15).close()&&e}if("click"===l){e=!1!==t.onProfile()&&e}return e},Cn.b,Cn.a)),Z.Y(10,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,1,{contentLabel:0}),Z._18(603979776,2,{_buttons:1}),Z._18(603979776,3,{_icons:1}),Z.Y(14,16384,null,0,Zn.a,[],null,null),Z.Y(15,16384,null,0,Sn.a,[an.a],{menuClose:[0,"menuClose"]},null),(n()(),Z._20(-1,2,["\n      Profile\n      "])),(n()(),Z.Z(17,0,null,4,1,"ion-icon",[["item-end",""],["name","person"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(18,147456,[[3,4]],0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,2,["\n    "])),(n()(),Z._20(-1,null,["\n    "])),(n()(),Z.Z(21,0,null,null,10,"button",[["class","item item-block"],["detail-none",""],["icon-right",""],["ion-item",""],["menuClose","user-menu"]],null,[[null,"click"]],function(n,l,u){var e=!0,t=n.component;if("click"===l){e=!1!==Z._11(n,27).close()&&e}if("click"===l){e=!1!==t.onLogout()&&e}return e},Cn.b,Cn.a)),Z.Y(22,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,4,{contentLabel:0}),Z._18(603979776,5,{_buttons:1}),Z._18(603979776,6,{_icons:1}),Z.Y(26,16384,null,0,Zn.a,[],null,null),Z.Y(27,16384,null,0,Sn.a,[an.a],{menuClose:[0,"menuClose"]},null),(n()(),Z._20(-1,2,["\n      Logout\n      "])),(n()(),Z.Z(29,0,null,4,1,"ion-icon",[["item-end",""],["name","log-out"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(30,147456,[[6,4]],0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,2,["\n    "])),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z._20(-1,1,["\n\n"])),(n()(),Z._20(-1,null,["\n"]))],function(n,l){n(l,4,0,l.component.currentUser,"true");n(l,15,0,"user-menu");n(l,18,0,"person");n(l,27,0,"user-menu");n(l,30,0,"log-out")},function(n,l){n(l,0,0,Z._11(l,1).statusbarPadding,Z._11(l,1)._hasRefresher);n(l,17,0,Z._11(l,18)._hidden);n(l,29,0,Z._11(l,30)._hidden)})}function i(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,8,"ion-menu",[["enabled","false"],["id","user-menu"],["persistent","false"],["role","navigation"]],null,null,null,un.b,un.a)),Z._16(6144,null,en.a,null,[tn.a]),Z.Y(2,245760,null,2,tn.a,[an.a,Z.j,rn.a,on.a,Z.z,sn.a,cn.l,_n.a,hn.a],{content:[0,"content"],id:[1,"id"],enabled:[2,"enabled"],persistent:[3,"persistent"]},null),Z._18(335544320,1,{menuContent:0}),Z._18(335544320,2,{menuNav:0}),(n()(),Z._20(-1,0,["\n    "])),(n()(),Z.Z(6,0,null,0,1,"user-menu",[],null,null,null,a,Mn)),Z.Y(7,114688,null,0,D,[Un.a,M.a,hn.a,an.a],{currentUser:[0,"currentUser"]},null),(n()(),Z._20(-1,0,["\n"])),(n()(),Z._20(-1,null,["\n\n"])),(n()(),Z.Z(10,0,null,null,2,"ion-nav",[],null,null,null,wn.b,wn.a)),Z._16(6144,null,en.a,null,[zn.a]),Z.Y(12,4374528,[["content",4]],0,zn.a,[[2,pn.a],[2,gn.a],hn.a,rn.a,on.a,Z.j,Z.u,Z.z,Z.i,cn.l,xn.a,[2,In.a],_n.a,Z.k],{root:[0,"root"]},null),(n()(),Z._20(-1,null,["\n"]))],function(n,l){var u=l.component;n(l,2,0,Z._11(l,12),"user-menu","false","false");n(l,7,0,u.currentUser);n(l,12,0,u.rootPage)},null)}function r(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,12,"ion-item",[["class","item item-block"],["color","transparent"],["detail-none",""],["no-lines",""]],null,null,null,Cn.b,Cn.a)),Z.Y(1,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],{color:[0,"color"]},null),Z._18(335544320,2,{contentLabel:0}),Z._18(603979776,3,{_buttons:1}),Z._18(603979776,4,{_icons:1}),Z.Y(5,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(7,0,null,0,4,"ion-avatar",[["item-start",""]],null,null,null,null,null)),Z.Y(8,16384,null,0,bn.a,[],null,null),(n()(),Z._20(-1,null,["\n        "])),(n()(),Z.Z(10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z._20(12,2,["\n      ","\n    "]))],function(n,l){n(l,1,0,"transparent")},function(n,l){var u=l.component;n(l,10,0,u.user.photo||"assets/imgs/no-photo.jpg");n(l,12,0,u.title)})}function o(n){return Z._22(0,[(n()(),Z._20(0,null,["\n      ","\n    "]))],null,function(n,l){n(l,0,0,l.component.title)})}function s(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,33,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,$n.b,$n.a)),Z.Y(1,49152,null,0,Fn.a,[hn.a,[2,pn.a],[2,gn.a],rn.a,Z.j,Z.z],null,null),(n()(),Z._20(-1,3,["\n  "])),(n()(),Z.Z(3,0,null,0,8,"button",[["ion-button",""],["menuToggle","user-menu"]],[[8,"hidden",0]],[[null,"click"]],function(n,l,u){var e=!0;if("click"===l){e=!1!==Z._11(n,5).toggle()&&e}return e},An.b,An.a)),Z.Y(4,1097728,[[1,4]],0,Ln.a,[[8,""],rn.a,Z.j,Z.z],null,null),Z.Y(5,1064960,null,0,qn.a,[an.a,[2,pn.a],[2,Ln.a],[2,Fn.a]],{menuToggle:[0,"menuToggle"]},null),Z.Y(6,16384,null,1,Vn.a,[rn.a,Z.j,Z.z,[2,Dn.a],[2,Fn.a]],null,null),Z._18(603979776,1,{_buttons:1}),(n()(),Z._20(-1,0,["\n    "])),(n()(),Z.Z(9,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(10,147456,null,0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,0,["\n  "])),(n()(),Z._20(-1,3,["\n\n  "])),(n()(),Z.Z(13,0,null,3,7,"ion-title",[],null,null,null,Nn.b,Nn.a)),Z.Y(14,49152,null,0,Bn.a,[rn.a,Z.j,Z.z,[2,Dn.a],[2,Fn.a]],null,null),(n()(),Z._20(-1,0,["\n\n    "])),(n()(),Z.U(16777216,null,0,1,null,r)),Z.Y(17,16384,null,0,mn.k,[Z.I,Z.F],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),Z._20(-1,0,["\n\n    "])),(n()(),Z.U(0,[["titleTemplate",2]],0,0,null,o)),(n()(),Z._20(-1,0,["\n  "])),(n()(),Z._20(-1,3,["\n\n  "])),(n()(),Z.Z(22,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),Z.Y(23,16384,null,1,Vn.a,[rn.a,Z.j,Z.z,[2,Dn.a],[2,Fn.a]],null,null),Z._18(603979776,5,{_buttons:1}),(n()(),Z._20(-1,null,["\n    "])),(n()(),Z.Z(26,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,u){var e=!0;if("click"===l){e=!1!==n.component.onLogout()&&e}return e},An.b,An.a)),Z.Y(27,1097728,[[5,4]],0,Ln.a,[[8,""],rn.a,Z.j,Z.z],null,null),(n()(),Z._20(-1,0,["\n      "])),(n()(),Z.Z(29,0,null,0,1,"ion-icon",[["name","exit"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(30,147456,null,0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,0,["\n    "])),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z._20(-1,3,["\n"]))],function(n,l){var u=l.component;n(l,5,0,"user-menu");n(l,10,0,"menu");n(l,17,0,u.user,Z._11(l,19));n(l,30,0,"exit")},function(n,l){n(l,0,0,Z._11(l,1)._hidden,Z._11(l,1)._sbPadding);n(l,3,0,Z._11(l,5).isHidden);n(l,9,0,Z._11(l,10)._hidden);n(l,29,0,Z._11(l,30)._hidden)})}function c(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),Z._20(1,null,[""," - ",""])),Z._15(2,2)],null,function(n,l){n(l,1,0,Z._21(l,1,0,n(l,2,0,Z._11(l.parent.parent.parent,1),l.parent.context.$implicit.timestamp,"dd/MM/y H:mm")),l.parent.context.$implicit.lastMessage)})}function _(n){return Z._22(0,[(n()(),Z._20(-1,null,["\n          "])),(n()(),Z.Z(1,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),Z._20(-1,null,["No messages"])),(n()(),Z._20(-1,null,["\n        "]))],null,null)}function h(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,20,"button",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(n,l,u){var e=!0;if("click"===l){e=!1!==n.component.onChatOpen(n.context.$implicit)&&e}return e},Cn.b,Cn.a)),Z.Y(1,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,2,{contentLabel:0}),Z._18(603979776,3,{_buttons:1}),Z._18(603979776,4,{_icons:1}),Z.Y(5,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n        "])),(n()(),Z.Z(7,0,null,0,4,"ion-avatar",[["item-left",""]],null,null,null,null,null)),Z.Y(8,16384,null,0,bn.a,[],null,null),(n()(),Z._20(-1,null,["\n          "])),(n()(),Z.Z(10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),Z._20(-1,null,["\n        "])),(n()(),Z._20(-1,2,["\n        "])),(n()(),Z.Z(13,0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),Z._20(14,null,["",""])),(n()(),Z._20(-1,2,["\n        "])),(n()(),Z.U(16777216,null,2,1,null,c)),Z.Y(17,16384,null,0,mn.k,[Z.I,Z.F],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),Z._20(-1,2,["\n        "])),(n()(),Z.U(0,[["customMessage",2]],2,0,null,_)),(n()(),Z._20(-1,2,["\n      "]))],function(n,l){n(l,17,0,l.context.$implicit.lastMessage,Z._11(l,19))},function(n,l){n(l,10,0,l.context.$implicit.photo||"assets/imgs/no-photo.jpg");n(l,14,0,l.context.$implicit.title)})}function d(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,6,"ion-list",[["no-lines",""]],null,null,null,null,null)),Z.Y(1,16384,null,0,yn.a,[rn.a,Z.j,Z.z,on.a,cn.l,_n.a],null,null),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z.U(16777216,null,null,2,null,h)),Z.Y(4,802816,null,0,mn.j,[Z.I,Z.F,Z.p],{ngForOf:[0,"ngForOf"]},null),Z._13(131072,mn.b,[Z.g]),(n()(),Z._20(-1,null,["\n    "]))],function(n,l){var u=l.component;n(l,4,0,Z._21(l,4,0,Z._11(l,5).transform(u.chats)))},null)}function f(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,12,"button",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(n,l,u){var e=!0;if("click"===l){e=!1!==n.component.onChatCreate(n.context.$implicit)&&e}return e},Cn.b,Cn.a)),Z.Y(1,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,5,{contentLabel:0}),Z._18(603979776,6,{_buttons:1}),Z._18(603979776,7,{_icons:1}),Z.Y(5,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n        "])),(n()(),Z.Z(7,0,null,0,4,"ion-avatar",[["item-left",""]],null,null,null,null,null)),Z.Y(8,16384,null,0,bn.a,[],null,null),(n()(),Z._20(-1,null,["\n          "])),(n()(),Z.Z(10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),Z._20(-1,null,["\n        "])),(n()(),Z._20(12,2,["\n        ","\n      "]))],null,function(n,l){n(l,10,0,l.context.$implicit.photo||"assets/imgs/no-photo.jpg");n(l,12,0,l.context.$implicit.name)})}function p(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,6,"ion-list",[["no-lines",""]],null,null,null,null,null)),Z.Y(1,16384,null,0,yn.a,[rn.a,Z.j,Z.z,on.a,cn.l,_n.a],null,null),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z.U(16777216,null,null,2,null,f)),Z.Y(4,802816,null,0,mn.j,[Z.I,Z.F,Z.p],{ngForOf:[0,"ngForOf"]},null),Z._13(131072,mn.b,[Z.g]),(n()(),Z._20(-1,null,["\n    "]))],function(n,l){var u=l.component;n(l,4,0,Z._21(l,4,0,Z._11(l,5).transform(u.users)))},null)}function g(n){return Z._22(0,[Z._13(0,T,[]),Z._13(0,mn.e,[Z.r]),(n()(),Z.Z(2,0,null,null,33,"ion-header",[],null,null,null,null,null)),Z.Y(3,16384,null,0,Tn.a,[rn.a,Z.j,Z.z,[2,pn.a]],null,null),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(5,0,null,null,2,"custom-logged-header",[],null,null,null,s,Xn)),Z.Y(6,114688,null,0,O,[Un.a,M.a,hn.a,an.a],{title:[0,"title"]},null),Z._15(7,2),(n()(),Z._20(-1,null,["\n\n  "])),(n()(),Z.Z(9,0,null,null,18,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,Hn.b,Hn.a)),Z.Y(10,49152,null,0,Dn.a,[rn.a,Z.j,Z.z],null,null),(n()(),Z._20(-1,3,["\n    "])),(n()(),Z.Z(12,0,null,3,14,"ion-segment",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"segment-disabled",null]],[[null,"ngModelChange"]],function(n,l,u){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.view=u)&&e}return e},null,null)),Z.Y(13,671744,null,0,Rn.n,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),Z._16(2048,null,Rn.j,null,[Rn.n]),Z.Y(15,16384,null,0,Rn.k,[Rn.j],null,null),Z.Y(16,1196032,null,1,Wn.a,[rn.a,Z.j,Z.z,[2,Rn.j]],null,null),Z._18(603979776,1,{_buttons:1}),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z.Z(19,0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","chats"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(n,l,u){var e=!0;if("click"===l){e=!1!==Z._11(n,20).onClick()&&e}return e},Kn.b,Kn.a)),Z.Y(20,114688,[[1,4]],0,Gn.a,[],{value:[0,"value"]},null),(n()(),Z._20(-1,0,["Chats"])),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z.Z(23,0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","users"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(n,l,u){var e=!0;if("click"===l){e=!1!==Z._11(n,24).onClick()&&e}return e},Kn.b,Kn.a)),Z.Y(24,114688,[[1,4]],0,Gn.a,[],{value:[0,"value"]},null),(n()(),Z._20(-1,0,["Usuários"])),(n()(),Z._20(-1,null,["\n    "])),(n()(),Z._20(-1,3,["\n  "])),(n()(),Z._20(-1,null,["\n\n  "])),(n()(),Z.Z(29,0,null,null,5,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,Hn.b,Hn.a)),Z.Y(30,49152,null,0,Dn.a,[rn.a,Z.j,Z.z],null,null),(n()(),Z._20(-1,3,["\n    "])),(n()(),Z.Z(32,0,null,3,1,"ion-searchbar",[],[[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ionInput"]],function(n,l,u){var e=!0;if("ionInput"===l){e=!1!==n.component.filterItems(u)&&e}return e},Jn.b,Jn.a)),Z.Y(33,1294336,null,0,Qn.a,[rn.a,on.a,Z.j,Z.z,[2,Rn.j]],null,{ionInput:"ionInput"}),(n()(),Z._20(-1,3,["\n  "])),(n()(),Z._20(-1,null,["\n"])),(n()(),Z._20(-1,null,["\n\n"])),(n()(),Z.Z(37,0,null,null,12,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,dn.b,dn.a)),Z.Y(38,4374528,null,0,fn.a,[rn.a,on.a,_n.a,Z.j,Z.z,hn.a,sn.a,Z.u,[2,pn.a],[2,gn.a]],null,null),(n()(),Z._20(-1,1,["\n\n  "])),(n()(),Z.Z(40,0,null,1,8,"div",[],null,null,null,null,null)),Z.Y(41,16384,null,0,mn.o,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.U(16777216,null,null,1,null,d)),Z.Y(44,278528,null,0,mn.p,[Z.I,Z.F,mn.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.U(16777216,null,null,1,null,p)),Z.Y(47,278528,null,0,mn.p,[Z.I,Z.F,mn.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z._20(-1,1,["\n  \n"]))],function(n,l){var u=l.component;n(l,6,0,Z._21(l,6,0,n(l,7,0,Z._11(l,0),u.view,!0)));n(l,13,0,u.view);n(l,20,0,"chats");n(l,24,0,"users"),n(l,33,0);n(l,41,0,u.view);n(l,44,0,"chats");n(l,47,0,"users")},function(n,l){n(l,9,0,Z._11(l,10)._sbPadding);n(l,12,0,Z._11(l,15).ngClassUntouched,Z._11(l,15).ngClassTouched,Z._11(l,15).ngClassPristine,Z._11(l,15).ngClassDirty,Z._11(l,15).ngClassValid,Z._11(l,15).ngClassInvalid,Z._11(l,15).ngClassPending,Z._11(l,16)._disabled);n(l,19,0,Z._11(l,20)._disabled,Z._11(l,20).isActive,Z._11(l,20).isActive);n(l,23,0,Z._11(l,24)._disabled,Z._11(l,24).isActive,Z._11(l,24).isActive);n(l,29,0,Z._11(l,30)._sbPadding);n(l,32,0,Z._11(l,33)._animated,Z._11(l,33)._value,Z._11(l,33)._isActive,Z._11(l,33)._showCancelButton,Z._11(l,33)._shouldAlignLeft,Z._11(l,33)._isFocus);n(l,37,0,Z._11(l,38).statusbarPadding,Z._11(l,38)._hasRefresher)})}function m(n){return Z._22(0,[Z._13(0,mn.e,[Z.r]),(n()(),Z.Z(1,0,null,null,10,"div",[["class","text"]],null,null,null,null,null)),Z.Y(2,278528,null,0,mn.i,[Z.p,Z.q,Z.j,Z.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Z._14(3,{"sender-background":0}),(n()(),Z._20(-1,null,["\n\n  "])),(n()(),Z.Z(5,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),Z._20(6,null,["",""])),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(8,0,null,null,2,"p",[["class","timestamp"]],null,null,null,null,null)),(n()(),Z._20(9,null,["",""])),Z._15(10,2),(n()(),Z._20(-1,null,["\n"])),(n()(),Z._20(-1,null,["\n"]))],function(n,l){n(l,2,0,"text",n(l,3,0,l.component.isFromSender))},function(n,l){var u=l.component;n(l,6,0,u.message.text);n(l,9,0,Z._21(l,9,0,n(l,10,0,Z._11(l,0),u.message.timestamp,"dd/MM/y H:mm")))})}function b(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,1,"message-box",[],[[4,"justify-content",null],[4,"text-align",null]],null,null,m,ul)),Z.Y(1,49152,null,0,L,[],{message:[0,"message"],isFromSender:[1,"isFromSender"]},null)],function(n,l){n(l,1,0,l.context.$implicit,l.context.$implicit.userId===l.component.sender.$key)},function(n,l){n(l,0,0,Z._11(l,1).isFromSender?"flex-end":"flex-start",Z._11(l,1).isFromSender?"right":"left")})}function v(n){return Z._22(0,[Z._18(402653184,1,{content:0}),(n()(),Z.Z(1,0,null,null,5,"ion-header",[],null,null,null,null,null)),Z.Y(2,16384,null,0,Tn.a,[rn.a,Z.j,Z.z,[2,pn.a]],null,null),(n()(),Z._20(-1,null,["\n  \n  "])),(n()(),Z.Z(4,0,null,null,1,"custom-logged-header",[],null,null,null,s,Xn)),Z.Y(5,114688,null,0,O,[Un.a,M.a,hn.a,an.a],{title:[0,"title"],user:[1,"user"]},null),(n()(),Z._20(-1,null,["\n\n"])),(n()(),Z._20(-1,null,["\n\n"])),(n()(),Z.Z(8,0,null,null,6,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,dn.b,dn.a)),Z.Y(9,4374528,[[1,4]],0,fn.a,[rn.a,on.a,_n.a,Z.j,Z.z,hn.a,sn.a,Z.u,[2,pn.a],[2,gn.a]],null,null),(n()(),Z._20(-1,1,["\n\n    "])),(n()(),Z.U(16777216,null,1,2,null,b)),Z.Y(12,802816,null,0,mn.j,[Z.I,Z.F,Z.p],{ngForOf:[0,"ngForOf"]},null),Z._13(131072,mn.b,[Z.g]),(n()(),Z._20(-1,1,["\n\n"])),(n()(),Z._20(-1,null,["\n\n"])),(n()(),Z.Z(16,0,null,null,27,"ion-footer",[],null,null,null,null,null)),Z.Y(17,16384,null,0,el.a,[rn.a,Z.j,Z.z,[2,pn.a]],null,null),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(19,0,null,null,23,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,Hn.b,Hn.a)),Z.Y(20,49152,null,0,Dn.a,[rn.a,Z.j,Z.z],null,null),(n()(),Z._20(-1,3,["\n    "])),(n()(),Z.Z(22,0,null,3,19,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,Cn.b,Cn.a)),Z.Y(23,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,2,{contentLabel:0}),Z._18(603979776,3,{_buttons:1}),Z._18(603979776,4,{_icons:1}),Z.Y(27,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(29,0,null,3,4,"ion-input",[["placeholder","Message..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"]],function(n,l,u){var e=!0,t=n.component;if("keyup.enter"===l){t.sendMessage(t.newMessage);e=!1!==(t.newMessage="")&&e}if("ngModelChange"===l){e=!1!==(t.newMessage=u)&&e}return e},tl.b,tl.a)),Z.Y(30,671744,null,0,Rn.n,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),Z._16(2048,null,Rn.j,null,[Rn.n]),Z.Y(32,16384,null,0,Rn.k,[Rn.j],null,null),Z.Y(33,5423104,null,0,al.a,[rn.a,on.a,jn.a,hn.a,Z.j,Z.z,[2,fn.a],[2,Yn.a],[2,Rn.j],_n.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(35,0,null,4,5,"button",[["ion-button",""],["item-right",""]],null,[[null,"click"]],function(n,l,u){var e=!0,t=n.component;if("click"===l){t.sendMessage(t.newMessage);e=!1!==(t.newMessage="")&&e}return e},An.b,An.a)),Z.Y(36,1097728,[[3,4]],0,Ln.a,[[8,""],rn.a,Z.j,Z.z],null,null),(n()(),Z._20(-1,0,["\n        "])),(n()(),Z.Z(38,0,null,0,1,"ion-icon",[["name","send"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(39,147456,null,0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,0,["\n      "])),(n()(),Z._20(-1,2,["\n    "])),(n()(),Z._20(-1,3,["\n  "])),(n()(),Z._20(-1,null,["\n"])),(n()(),Z._20(-1,null,["\n"]))],function(n,l){var u=l.component;n(l,5,0,u.pageTitle,u.recipient);n(l,12,0,Z._21(l,12,0,Z._11(l,13).transform(u.messages)));n(l,30,0,u.newMessage);n(l,33,0,"text","Message...");n(l,39,0,"send")},function(n,l){n(l,8,0,Z._11(l,9).statusbarPadding,Z._11(l,9)._hasRefresher);n(l,19,0,Z._11(l,20)._sbPadding);n(l,29,0,Z._11(l,32).ngClassUntouched,Z._11(l,32).ngClassTouched,Z._11(l,32).ngClassPristine,Z._11(l,32).ngClassDirty,Z._11(l,32).ngClassValid,Z._11(l,32).ngClassInvalid,Z._11(l,32).ngClassPending);n(l,38,0,Z._11(l,39)._hidden)})}function y(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,4,"div",[["class","progress-outer"]],null,null,null,null,null)),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(2,0,null,null,1,"div",[["class","progress-inner"]],[[4,"width",null]],null,null,null,null)),(n()(),Z._20(3,null,["\n    ","\n  "])),(n()(),Z._20(-1,null,["\n"]))],null,function(n,l){var u=l.component;n(l,2,0,u.progress+"%");n(l,3,0,u.progress)})}function C(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,1,"progress-bar",[],null,null,null,y,sl)),Z.Y(1,49152,null,0,N,[],{progress:[0,"progress"]},null)],function(n,l){n(l,1,0,l.component.uploadProgress)},null)}function Y(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,67,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var e=!0,t=n.component;if("submit"===l){e=!1!==Z._11(n,2).onSubmit(u)&&e}if("reset"===l){e=!1!==Z._11(n,2).onReset()&&e}if("ngSubmit"===l){e=!1!==t.onSubmit(u)&&e}return e},null,null)),Z.Y(1,16384,null,0,Rn.s,[],null,null),Z.Y(2,4210688,[["profileForm",4]],0,Rn.m,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Z._16(2048,null,Rn.b,null,[Rn.m]),Z.Y(4,16384,null,0,Rn.l,[Rn.b],null,null),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.Z(6,0,null,null,18,"ion-item",[["class","item item-block"]],null,null,null,Cn.b,Cn.a)),Z.Y(7,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,1,{contentLabel:0}),Z._18(603979776,2,{_buttons:1}),Z._18(603979776,3,{_icons:1}),Z.Y(11,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(13,0,null,0,1,"ion-icon",[["item-left",""],["name","person"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(14,147456,[[3,4]],0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(16,0,null,3,7,"ion-input",[["minlenght","3"],["name","name"],["placeholder","Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,u){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.currentUser.name=u)&&e}return e},tl.b,tl.a)),Z.Y(17,16384,null,0,Rn.p,[],{required:[0,"required"]},null),Z._16(1024,null,Rn.h,function(n){return[n]},[Rn.p]),Z.Y(19,671744,null,0,Rn.n,[[2,Rn.b],[2,Rn.h],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Z._16(2048,null,Rn.j,null,[Rn.n]),Z.Y(21,16384,null,0,Rn.k,[Rn.j],null,null),Z.Y(22,5423104,null,0,al.a,[rn.a,on.a,jn.a,hn.a,Z.j,Z.z,[2,fn.a],[2,Yn.a],[2,Rn.j],_n.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z._20(-1,2,["\n    "])),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.Z(26,0,null,null,18,"ion-item",[["class","item item-block"]],null,null,null,Cn.b,Cn.a)),Z.Y(27,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,4,{contentLabel:0}),Z._18(603979776,5,{_buttons:1}),Z._18(603979776,6,{_icons:1}),Z.Y(31,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(33,0,null,0,1,"ion-icon",[["item-left",""],["name","at"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(34,147456,[[6,4]],0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(36,0,null,3,7,"ion-input",[["minlenght","3"],["name","username"],["placeholder","Name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,u){var e=!0;if("ngModelChange"===l){e=!1!==(n.component.currentUser.username=u)&&e}return e},tl.b,tl.a)),Z.Y(37,16384,null,0,Rn.p,[],{required:[0,"required"]},null),Z._16(1024,null,Rn.h,function(n){return[n]},[Rn.p]),Z.Y(39,671744,null,0,Rn.n,[[2,Rn.b],[2,Rn.h],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Z._16(2048,null,Rn.j,null,[Rn.n]),Z.Y(41,16384,null,0,Rn.k,[Rn.j],null,null),Z.Y(42,5423104,null,0,al.a,[rn.a,on.a,jn.a,hn.a,Z.j,Z.z,[2,fn.a],[2,Yn.a],[2,Rn.j],_n.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(n()(),Z._20(-1,null,["\n      "])),(n()(),Z._20(-1,2,["\n    "])),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.Z(46,0,null,null,11,"ion-item",[["class","item item-block"]],null,null,null,Cn.b,Cn.a)),Z.Y(47,1097728,null,3,Yn.a,[jn.a,rn.a,Z.j,Z.z,[2,kn.a]],null,null),Z._18(335544320,7,{contentLabel:0}),Z._18(603979776,8,{_buttons:1}),Z._18(603979776,9,{_icons:1}),Z.Y(51,16384,null,0,Zn.a,[],null,null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(53,0,null,0,1,"ion-icon",[["item-left",""],["name","image"],["role","img"]],[[2,"hide",null]],null,null,null,null)),Z.Y(54,147456,[[9,4]],0,Pn.a,[rn.a,Z.j,Z.z],{name:[0,"name"]},null),(n()(),Z._20(-1,2,["\n      "])),(n()(),Z.Z(56,0,null,2,0,"input",[["accept","image/*"],["type","file"]],null,[[null,"change"]],function(n,l,u){var e=!0;if("change"===l){e=!1!==n.component.onPhoto(u)&&e}return e},null,null)),(n()(),Z._20(-1,2,["\n    "])),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.U(16777216,null,null,1,null,C)),Z.Y(60,16384,null,0,mn.k,[Z.I,Z.F],{ngIf:[0,"ngIf"]},null),(n()(),Z._20(-1,null,["\n\n    "])),(n()(),Z.Z(62,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Z._20(-1,null,["\n    "])),(n()(),Z.Z(64,0,null,null,2,"button",[["block",""],["ion-button",""],["type","submit"]],[[8,"disabled",0]],null,null,An.b,An.a)),Z.Y(65,1097728,null,0,Ln.a,[[8,""],rn.a,Z.j,Z.z],{block:[0,"block"]},null),(n()(),Z._20(-1,0,["Save"])),(n()(),Z._20(-1,null,["\n  "]))],function(n,l){var u=l.component;n(l,14,0,"person");n(l,17,0,"");n(l,19,0,"name",u.currentUser.name);n(l,22,0,"text","Name");n(l,34,0,"at");n(l,37,0,"");n(l,39,0,"username",u.currentUser.username);n(l,42,0,"text","Name");n(l,54,0,"image");n(l,60,0,u.uploadProgress);n(l,65,0,"")},function(n,l){n(l,0,0,Z._11(l,4).ngClassUntouched,Z._11(l,4).ngClassTouched,Z._11(l,4).ngClassPristine,Z._11(l,4).ngClassDirty,Z._11(l,4).ngClassValid,Z._11(l,4).ngClassInvalid,Z._11(l,4).ngClassPending);n(l,13,0,Z._11(l,14)._hidden);n(l,16,0,Z._11(l,17).required?"":null,Z._11(l,21).ngClassUntouched,Z._11(l,21).ngClassTouched,Z._11(l,21).ngClassPristine,Z._11(l,21).ngClassDirty,Z._11(l,21).ngClassValid,Z._11(l,21).ngClassInvalid,Z._11(l,21).ngClassPending);n(l,33,0,Z._11(l,34)._hidden);n(l,36,0,Z._11(l,37).required?"":null,Z._11(l,41).ngClassUntouched,Z._11(l,41).ngClassTouched,Z._11(l,41).ngClassPristine,Z._11(l,41).ngClassDirty,Z._11(l,41).ngClassValid,Z._11(l,41).ngClassInvalid,Z._11(l,41).ngClassPending);n(l,53,0,Z._11(l,54)._hidden);n(l,64,0,Z._11(l,2).form.invalid)})}function j(n){return Z._22(0,[Z._13(0,T,[]),(n()(),Z.Z(1,0,null,null,6,"ion-header",[],null,null,null,null,null)),Z.Y(2,16384,null,0,Tn.a,[rn.a,Z.j,Z.z,[2,pn.a]],null,null),(n()(),Z._20(-1,null,["\n  "])),(n()(),Z.Z(4,0,null,null,2,"custom-logged-header",[],null,null,null,s,Xn)),Z.Y(5,114688,null,0,O,[Un.a,M.a,hn.a,an.a],{title:[0,"title"]},null),Z._15(6,2),(n()(),Z._20(-1,null,["\n"])),(n()(),Z._20(-1,null,["\n\n"])),(n()(),Z.Z(9,0,null,null,12,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,dn.b,dn.a)),Z.Y(10,4374528,null,0,fn.a,[rn.a,on.a,_n.a,Z.j,Z.z,hn.a,sn.a,Z.u,[2,pn.a],[2,gn.a]],null,null),(n()(),Z._20(-1,1,["\n\n  "])),(n()(),Z.Z(12,0,null,1,1,"user-info",[],null,null,null,t,vn)),Z.Y(13,49152,null,0,q,[],{user:[0,"user"]},null),(n()(),Z._20(-1,1,["\n\n  "])),(n()(),Z.Z(15,0,null,1,2,"button",[["block",""],["ion-button",""]],null,[[null,"click"]],function(n,l,u){var e=!0,t=n.component;if("click"===l){e=!1!=(t.canEdit=!t.canEdit)&&e}return e},An.b,An.a)),Z.Y(16,1097728,null,0,Ln.a,[[8,""],rn.a,Z.j,Z.z],{block:[0,"block"]},null),(n()(),Z._20(-1,0,["Edit"])),(n()(),Z._20(-1,1,["\n\n  "])),(n()(),Z.U(16777216,null,1,1,null,Y)),Z.Y(20,16384,null,0,mn.k,[Z.I,Z.F],{ngIf:[0,"ngIf"]},null),(n()(),Z._20(-1,1,["\n\n"]))],function(n,l){var u=l.component;n(l,5,0,Z._21(l,5,0,n(l,6,0,Z._11(l,0),"User Profile",!0)));n(l,13,0,u.currentUser);n(l,16,0,"");n(l,20,0,u.canEdit)},function(n,l){n(l,9,0,Z._11(l,10).statusbarPadding,Z._11(l,10)._hasRefresher)})}Object.defineProperty(l,"__esModule",{value:!0});var k=u(47),Z=u(1),S=u(0),P=(u(57),u(130)),U=u(131),M=u(31),w=u(38),z=function(){return function(n,l,u,e,t){var a=this;this.rootPage="SigninPage",e.auth.subscribe(function(n){n&&t.currentUser.subscribe(function(n){a.currentUser=n})}),n.ready().then(function(){l.styleDefault(),u.hide()})}}(),x=u(191),I=(u(83),u(65)),E=function(){function n(n,l,u,e){this.alertCtrl=n,this.authService=l,this.app=u,this.menuCtrl=e}return n.prototype.ngOnInit=function(){this.navCtrl=this.app.getActiveNav()},n.prototype.onLogout=function(){var n=this;this.alertCtrl.create({message:"Você deseja sair?",buttons:[{text:"Sim",handler:function(){n.authService.logout().then(function(){n.navCtrl.setRoot("SigninPage"),n.menuCtrl.enable(!1,"user-menu")})}},{text:"Não"}]}).present()},n}(),O=function(n){function l(l,u,e,t){var a=n.call(this,l,u,e,t)||this;return a.alertCtrl=l,a.authService=u,a.app=e,a.menuCtrl=t,a}return Object(S.__extends)(l,n),l}(E),T=function(){function n(){}return n.prototype.transform=function(n,l){if(l)return n.charAt(0).toUpperCase()+n.substr(1);var u="";return n.split(" ").forEach(function(n,l,e){u+=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()+" "}),u},n}(),$=u(167),F=u(68),A=u(123),L=(u(336),function(){return function(){}}()),q=function(){return function(){this.isMenu=!1}}(),V=function(){function n(n,l,u,e){this.navCtrl=n,this.navParams=l,this.authService=u,this.userService=e,this.canEdit=!1}return n.prototype.ionViewCanEnter=function(){return this.authService.authenticated},n.prototype.ionViewDidLoad=function(){var n=this;this.userService.currentUser.subscribe(function(l){n.currentUser=l})},n.prototype.onSubmit=function(n){var l=this;if(n.preventDefault(),this.filePhoto){var u=this.userService.uploadPhoto(this.filePhoto,this.currentUser.$key);u.on("state_changed",function(n){l.uploadProgress=Math.round(n.bytesTransferred/n.totalBytes*100)},function(n){},function(){l.editUser(u.snapshot.downloadURL)})}else this.editUser()},n.prototype.onPhoto=function(n){this.filePhoto=n.target.files[0]},n.prototype.editUser=function(n){var l=this;this.userService.edit({name:this.currentUser.name,username:this.currentUser.username,photo:n||this.currentUser.photo||""}).then(function(){l.canEdit=!1,l.filePhoto=void 0,l.uploadProgress=void 0})},n}(),D=function(n){function l(l,u,e,t){var a=n.call(this,l,u,e,t)||this;return a.alertCtrl=l,a.authService=u,a.app=e,a.menuCtrl=t,a}return Object(S.__extends)(l,n),l.prototype.onProfile=function(){this.navCtrl.push(V)},l}(E),N=function(){return function(){}}(),B=function(){return function(){}}(),X=u(74),H=u(360),R=u(361),W=u(362),K=u(363),G=u(364),J=u(365),Q=u(366),nn=u(367),ln=u(368),un=u(658),en=u(55),tn=u(111),an=u(29),rn=u(3),on=u(6),sn=u(33),cn=u(11),_n=u(12),hn=u(8),dn=u(96),fn=u(27),pn=u(7),gn=u(22),mn=u(15),bn=u(77),vn=Z.X({encapsulation:2,styles:[],data:{}}),yn=u(64),Cn=u(62),Yn=u(19),jn=u(17),kn=u(37),Zn=u(45),Sn=u(148),Pn=u(34),Un=u(41),Mn=Z.X({encapsulation:2,styles:[],data:{}}),wn=u(659),zn=u(81),xn=u(52),In=u(30),En=Z.X({encapsulation:2,styles:[],data:{}}),On=Z.V("ng-component",z,function(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,1,"ng-component",[],null,null,null,i,En)),Z.Y(1,49152,null,0,z,[on.a,U.a,P.a,M.a,w.a],null,null)],null,null)},{},{},[]),Tn=u(70),$n=u(369),Fn=u(46),An=u(35),Ln=u(23),qn=u(149),Vn=u(187),Dn=u(42),Nn=u(370),Bn=u(95),Xn=Z.X({encapsulation:2,styles:[],data:{}}),Hn=u(359),Rn=u(21),Wn=u(180),Kn=u(660),Gn=u(94),Jn=u(661),Qn=u(129),nl=Z.X({encapsulation:2,styles:[],data:{}}),ll=Z.V("page-home",x.a,function(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,1,"page-home",[],null,null,null,g,nl)),Z.Y(1,49152,null,0,x.a,[gn.a,w.a,M.a,F.a,an.a],null,null)],null,null)},{},{},[]),ul=Z.X({encapsulation:2,styles:[],data:{}}),el=u(186),tl=u(192),al=u(69),il=u(16),rl=Z.X({encapsulation:2,styles:[],data:{}}),ol=Z.V("page-chat",$.a,function(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,1,"page-chat",[],null,null,null,v,rl)),Z.Y(1,49152,null,0,$.a,[gn.a,il.a,M.a,w.a,A.a,F.a],null,null)],null,null)},{},{},[]),sl=Z.X({encapsulation:2,styles:[],data:{}}),cl=Z.X({encapsulation:2,styles:[],data:{}}),_l=Z.V("page-user-profile",V,function(n){return Z._22(0,[(n()(),Z.Z(0,0,null,null,1,"page-user-profile",[],null,null,null,j,cl)),Z.Y(1,49152,null,0,V,[gn.a,il.a,M.a,w.a],null,null)],null,null)},{},{},[]),hl=u(169),dl=u(67),fl=u(238),pl=u(114),gl=u(239),ml=u(240),bl=u(140),vl=u(168),yl=u(54),Cl=u(132),Yl=u(193),jl=u(76),kl=u(61),Zl=u(173),Sl=u(106),Pl=u(177),Ul=u(171),Ml=u(185),wl=u(357),zl=u(170),xl=u(150),Il=u(172),El=Z.W(B,[X.b],function(n){return Z._7([Z._8(512,Z.i,Z.S,[[8,[H.a,R.a,W.a,K.a,G.a,J.a,Q.a,nn.a,ln.a,On,ll,ol,_l]],[3,Z.i],Z.s]),Z._8(4608,I.h,I.n,[mn.d,Z.w,I.l]),Z._8(4608,I.o,I.o,[I.h,I.m]),Z._8(5120,I.a,function(n){return[n]},[I.o]),Z._8(4608,I.k,I.k,[]),Z._8(6144,I.i,null,[I.k]),Z._8(4608,I.g,I.g,[I.i]),Z._8(6144,I.b,null,[I.g]),Z._8(4608,I.f,I.j,[I.b,Z.o]),Z._8(4608,I.c,I.c,[I.f]),Z._8(5120,Z.r,Z._17,[[3,Z.r]]),Z._8(4608,mn.m,mn.l,[Z.r,[2,mn.u]]),Z._8(5120,Z.b,Z._1,[]),Z._8(5120,Z.p,Z._9,[]),Z._8(5120,Z.q,Z._12,[]),Z._8(4608,k.c,k.q,[mn.d]),Z._8(6144,Z.D,null,[k.c]),Z._8(4608,k.f,hl.a,[]),Z._8(5120,k.d,function(n,l,u,e,t){return[new k.k(n,l),new k.o(u),new k.n(e,t)]},[mn.d,Z.u,mn.d,mn.d,k.f]),Z._8(4608,k.e,k.e,[k.d,Z.u]),Z._8(135680,k.m,k.m,[mn.d]),Z._8(4608,k.l,k.l,[k.e,k.m]),Z._8(6144,Z.B,null,[k.l]),Z._8(6144,k.p,null,[k.m]),Z._8(4608,Z.G,Z.G,[Z.u]),Z._8(4608,k.h,k.h,[mn.d]),Z._8(4608,k.i,k.i,[mn.d]),Z._8(4608,Rn.t,Rn.t,[]),Z._8(4608,Rn.d,Rn.d,[]),Z._8(5120,dl.d,fl.g,[dl.e]),Z._8(5120,dl.a,fl.h,[dl.d,dl.b]),Z._8(5120,pl.a,fl.f,[dl.a]),Z._8(5120,dl.f,fl.i,[]),Z._8(4608,gl.a,gl.a,[pl.a,dl.f,[2,dl.c]]),Z._8(4608,ml.a,ml.a,[dl.d,dl.a]),Z._8(4608,fl.a,fl.a,[dl.d,gl.a,ml.a]),Z._8(4608,bl.a,bl.a,[hn.a,rn.a]),Z._8(4608,Un.a,Un.a,[hn.a,rn.a]),Z._8(4608,vl.a,vl.a,[]),Z._8(4608,jn.a,jn.a,[]),Z._8(4608,yl.a,yl.a,[on.a]),Z._8(4608,sn.a,sn.a,[rn.a,on.a,Z.u,_n.a]),Z._8(4608,Cl.a,Cl.a,[hn.a,rn.a]),Z._8(5120,mn.h,Yl.c,[mn.s,[2,mn.a],rn.a]),Z._8(4608,mn.g,mn.g,[mn.h]),Z._8(5120,jl.b,jl.d,[hn.a,jl.a]),Z._8(5120,In.a,In.b,[hn.a,jl.b,mn.g,kl.b,Z.i]),Z._8(4608,Zl.a,Zl.a,[hn.a,rn.a,In.a]),Z._8(4608,Sl.a,Sl.a,[hn.a,rn.a]),Z._8(4608,Pl.a,Pl.a,[hn.a,rn.a,In.a]),Z._8(4608,Ul.a,Ul.a,[rn.a,on.a,_n.a,hn.a,cn.l]),Z._8(4608,Ml.a,Ml.a,[hn.a,rn.a]),Z._8(4608,xn.a,xn.a,[on.a,rn.a]),Z._8(4608,U.a,U.a,[]),Z._8(4608,P.a,P.a,[]),Z._8(4608,w.a,w.a,[I.c,fl.a,dl.a]),Z._8(4608,M.a,M.a,[I.c,gl.a]),Z._8(4608,F.a,F.a,[I.c,fl.a]),Z._8(4608,A.a,A.a,[I.c,fl.a]),Z._8(512,I.e,I.e,[]),Z._8(512,I.d,I.d,[]),Z._8(512,mn.c,mn.c,[]),Z._8(512,Z.k,wl.a,[]),Z._8(256,rn.b,{},[]),Z._8(1024,zl.a,zl.b,[]),Z._8(1024,on.a,on.b,[k.b,zl.a,Z.u]),Z._8(1024,rn.a,rn.c,[rn.b,on.a]),Z._8(512,_n.a,_n.a,[on.a]),Z._8(512,an.a,an.a,[]),Z._8(512,hn.a,hn.a,[rn.a,on.a,[2,an.a]]),Z._8(512,cn.l,cn.l,[hn.a]),Z._8(256,jl.a,{links:[{loadChildren:"../pages/signin/signin.module.ngfactory#SigninPageModuleNgFactory",name:"SigninPage",segment:"signin",priority:"low",defaultHistory:[]},{loadChildren:"../pages/signup/signup.module.ngfactory#SignupPageModuleNgFactory",name:"SignupPage",segment:"signup",priority:"low",defaultHistory:[]}]},[]),Z._8(512,Z.h,Z.h,[]),Z._8(512,xl.a,xl.a,[Z.h]),Z._8(1024,kl.b,kl.c,[xl.a,Z.o]),Z._8(1024,Z.c,function(n,l,u,e,t,a,i,r,o,s,c,_,h){return[k.s(n),Il.a(l),vl.b(u,e),Ul.b(t,a,i,r,o),kl.d(s,c,_,h)]},[[2,Z.t],rn.a,on.a,_n.a,rn.a,on.a,_n.a,hn.a,cn.l,rn.a,jl.a,kl.b,Z.u]),Z._8(512,Z.d,Z.d,[[2,Z.c]]),Z._8(131584,Z.f,Z.f,[Z.u,Z.T,Z.o,Z.k,Z.i,Z.d]),Z._8(512,Z.e,Z.e,[Z.f]),Z._8(512,k.a,k.a,[[3,k.a]]),Z._8(512,Rn.r,Rn.r,[]),Z._8(512,Rn.g,Rn.g,[]),Z._8(512,Rn.o,Rn.o,[]),Z._8(512,Yl.a,Yl.a,[]),Z._8(512,fl.b,fl.b,[]),Z._8(512,B,B,[]),Z._8(256,I.l,"XSRF-TOKEN",[]),Z._8(256,I.m,"X-XSRF-TOKEN",[]),Z._8(256,dl.e,{apiKey:"AIzaSyBw4rg6dyo6hLaoM5S-jm_IgWMr-DZkWOk",authDomain:"suchachat-f4e0e.firebaseapp.com",databaseURL:"https://suchachat-f4e0e.firebaseio.com",storageBucket:"suchachat-f4e0e.appspot.com",messagingSenderId:"13793012442"},[]),Z._8(256,dl.b,void 0,[]),Z._8(256,dl.c,{provider:6,method:3},[]),Z._8(256,X.a,z,[]),Z._8(256,mn.a,"/",[])])});Object(Z.M)(),Object(k.j)().bootstrapModuleFactory(El)},38:function(n,l,u){"use strict";u.d(l,"a",function(){return o});var e=u(0),t=u(1),a=u(83),i=u(118),r=u(282),o=(u.n(r),function(n){function l(l,u,e){var t=n.call(this)||this;return t.http=l,t.af=u,t.firebaseApp=e,t.PATH="/users",t.listenAuthState(),t}return Object(e.__extends)(l,n),l.prototype.setUsers=function(n){this.users=this.af.database.list(this.PATH,{query:{orderByChild:"name"}}).map(function(l){return l.filter(function(l){return l.$key!==n})})},l.prototype.listenAuthState=function(){var n=this;this.af.auth.subscribe(function(l){l&&(n.currentUser=n.af.database.object(n.PATH+"/"+l.auth.uid),n.setUsers(l.auth.uid))})},l.prototype.create=function(n,l){return this.af.database.object(this.PATH+"/"+l).set(n).catch(this.handlePromiseError)},l.prototype.edit=function(n){return this.currentUser.update(n).catch(this.handlePromiseError)},l.prototype.userExists=function(n){return this.af.database.list(this.PATH,{query:{orderByChild:"username",equalTo:n}}).map(function(n){return n.length>0}).catch(this.handleObservableError)},l.prototype.get=function(n){return this.af.database.object("/users/"+n).catch(this.handleObservableError)},l.prototype.uploadPhoto=function(n,l){return this.firebaseApp.storage().ref().child("/users/"+l).put(n)},l=Object(e.__decorate)([Object(e.__param)(2,Object(t.m)(a.c))],l)}(i.a))},68:function(n,l,u){"use strict";u.d(l,"a",function(){return a});var e=u(0),t=u(118),a=(u(83),function(n){function l(l,u){var e=n.call(this)||this;return e.http=l,e.af=u,e.setChats(),e}return Object(e.__extends)(l,n),l.prototype.setChats=function(){var n=this;this.af.auth.subscribe(function(l){l&&(n.chats=n.af.database.list("/chats/"+l.auth.uid,{query:{orderByChild:"timestamp"}}).map(function(n){return n.reverse()}).catch(n.handleObservableError))})},l.prototype.create=function(n,l,u){return this.af.database.object("/chats/"+l+"/"+u).set(n).catch(this.handlePromiseError)},l.prototype.getDeepChat=function(n,l){return this.af.database.object("/chats/"+n+"/"+l).catch(this.handlePromiseError)},l.prototype.updatePhoto=function(n,l,u){return l!=u?n.update({photo:u}).then(function(){return!0}).catch(this.handlePromiseError):Promise.resolve(!1)},l}(t.a))}},[372]);